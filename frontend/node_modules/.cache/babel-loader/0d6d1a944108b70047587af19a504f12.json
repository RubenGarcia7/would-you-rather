{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Lenovo User/Desktop/Web Development Projects/2. React Developer Nanodegree/would-you-rather/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{connect}from'react-redux';import{Button,Form,Progress}from'semantic-ui-react';import{Link}from'react-router-dom';import{handleAnswerPoll}from'../actions/polls';var PollAnswer=function PollAnswer(_ref){var poll=_ref.poll,authedUser=_ref.authedUser,dispatch=_ref.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),option=_useState2[0],setOption=_useState2[1];var author=poll.author,firstQuestion=poll.firstQuestion,secondQuestion=poll.secondQuestion,id=poll.id,answeredBy=poll.answeredBy,firstQuestionReplies=poll.firstQuestionReplies,secondQuestionReplies=poll.secondQuestionReplies,totalReplies=poll.totalReplies;var handleChange=function handleChange(e){setOption(e.target.textContent);};var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(handleAnswerPoll(id,option));};return/*#__PURE__*/_jsxs(\"div\",{className:\"poll-answer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"poll-answer__head\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"poll-answer__head-left\",children:/*#__PURE__*/_jsx(\"img\",{src:author.avatar,className:\"poll-answer__head-left__img shadow-xs\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"poll-answer__head-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"poll-answer__head-right__name\",children:author.id})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"poll-answer__body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"poll-answer__body-title\",children:\"Would you rather...\"}),// Show the form if the poll hasn't been answered and the results if it has\n!answeredBy.includes(authedUser.id)?/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,className:\"poll-answer__body-form\",children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Radio,{className:\"poll-answer__body-form__option\",label:firstQuestion,value:firstQuestion,checked:option===firstQuestion,onChange:handleChange}),/*#__PURE__*/_jsx(Form.Radio,{className:\"poll-answer__body-form__option\",label:secondQuestion,value:secondQuestion,checked:option===secondQuestion,onChange:handleChange})]}),/*#__PURE__*/_jsx(Form.Button,{className:\"poll-answer__body-btn\",children:\"Submit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:firstQuestion}),/*#__PURE__*/_jsx(Progress,{progress:\"percent\",percent:firstQuestionReplies/totalReplies*100,success:option===firstQuestion?true:false,size:\"large\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"poll-answer__body-result\",children:[firstQuestionReplies,\" out of \",totalReplies,\" votes\"]}),/*#__PURE__*/_jsx(\"p\",{children:secondQuestion}),/*#__PURE__*/_jsx(Progress,{progress:\"percent\",percent:secondQuestionReplies/totalReplies*100,success:option===secondQuestion?true:false,size:\"large\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"poll-answer__body-result\",children:[secondQuestionReplies,\" out of \",totalReplies,\" votes\"]}),/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*#__PURE__*/_jsx(Button,{children:\"Back\"})})]})]})]});};function mapStateToProps(_ref2,_ref3){var authedUser=_ref2.authedUser,polls=_ref2.polls;var id=_ref3.id;// Get the poll\nvar poll=polls[id];return{authedUser:authedUser,poll:poll};}export default connect(mapStateToProps)(PollAnswer);","map":{"version":3,"sources":["C:/Users/Lenovo User/Desktop/Web Development Projects/2. React Developer Nanodegree/would-you-rather/frontend/src/components/PollAnswer.js"],"names":["React","useState","connect","Button","Form","Progress","Link","handleAnswerPoll","PollAnswer","poll","authedUser","dispatch","option","setOption","author","firstQuestion","secondQuestion","id","answeredBy","firstQuestionReplies","secondQuestionReplies","totalReplies","handleChange","e","target","textContent","handleSubmit","preventDefault","avatar","includes","mapStateToProps","polls"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Form, Progress } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { handleAnswerPoll } from '../actions/polls'\r\n\r\n\r\nconst PollAnswer = ({ poll, authedUser, dispatch }) => {\r\n  const [option, setOption] = useState('')\r\n\r\n  const { author, firstQuestion, secondQuestion, id, answeredBy, firstQuestionReplies, secondQuestionReplies, totalReplies} = poll\r\n\r\n  const handleChange = e => {\r\n    setOption(e.target.textContent)\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    dispatch(handleAnswerPoll(id, option))\r\n  }\r\n\r\n  return (\r\n    <div className='poll-answer'>\r\n      <div className='poll-answer__head'>\r\n        <div className='poll-answer__head-left'>\r\n          <img src={author.avatar} className='poll-answer__head-left__img shadow-xs'/>\r\n        </div>\r\n        <div className='poll-answer__head-right'>\r\n          <span className='poll-answer__head-right__name'>{author.id}</span>\r\n        </div>\r\n      </div>\r\n      <div className='poll-answer__body'>\r\n      <p className='poll-answer__body-title'>Would you rather...</p>\r\n      {\r\n      // Show the form if the poll hasn't been answered and the results if it has\r\n      !answeredBy.includes(authedUser.id) ? \r\n        <Form onSubmit={handleSubmit}className='poll-answer__body-form'>\r\n        <Form.Group>\r\n          <Form.Radio      \r\n            className='poll-answer__body-form__option'\r\n            label={firstQuestion}\r\n            value={firstQuestion}\r\n            checked={option === firstQuestion}\r\n            onChange={handleChange}\r\n          />  \r\n          <Form.Radio\r\n            className='poll-answer__body-form__option'\r\n            label={secondQuestion}\r\n            value={secondQuestion}\r\n            checked={option === secondQuestion}\r\n            onChange={handleChange}\r\n          />         \r\n        </Form.Group>\r\n        <Form.Button className='poll-answer__body-btn'>Submit</Form.Button>\r\n        </Form>\r\n        :\r\n        <div>\r\n          <p>{firstQuestion}</p>\r\n          <Progress\r\n            progress='percent'\r\n            percent={(firstQuestionReplies / totalReplies ) * 100}\r\n            success={option === firstQuestion ? true : false}\r\n            size='large'\r\n          />\r\n          <p className='poll-answer__body-result'>{firstQuestionReplies} out of {totalReplies} votes</p>\r\n          <p>{secondQuestion}</p>\r\n          <Progress\r\n          progress='percent'\r\n          percent={(secondQuestionReplies / totalReplies ) * 100}\r\n          success={option === secondQuestion ? true : false}\r\n          size='large'\r\n          />\r\n          <p className='poll-answer__body-result'>{secondQuestionReplies} out of {totalReplies} votes</p>\r\n          \r\n          <Link to='/home'><Button>Back</Button></Link>\r\n        </div> \r\n      }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps({ authedUser, polls }, { id }) {\r\n  // Get the poll\r\n  const poll = polls[id]\r\n\r\n  return {\r\n    authedUser,\r\n    poll: poll\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PollAnswer)\r\n"]},"metadata":{},"sourceType":"module"}