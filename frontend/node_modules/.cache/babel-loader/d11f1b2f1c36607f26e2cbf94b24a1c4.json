{"ast":null,"code":"import { generateId } from '../utils/helpers';\nexport const ADD_POLL = 'ADD_POLL';\n\nfunction addPoll(poll) {\n  return {\n    type: ADD_POLL,\n    payload: {\n      poll\n    }\n  };\n} // Working on this!\n\n\nexport function handleAddPoll(firstQuestion, secondQuestion) {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    return savePoll({\n      author: authedUser,\n      firstQuestion,\n      secondQuestion\n    });\n  };\n}\nexport function savePoll(info) {\n  return _savePoll(info);\n}\n\nfunction formatPoll({\n  firstQuestion,\n  secondQuestion,\n  author\n}) {\n  return {\n    author,\n    id: generateId(),\n    firstQuestion,\n    secondQuestion\n  };\n}\n\nexport function _savePoll({\n  firstQuestion,\n  secondQuestion,\n  author\n}) {\n  return new Promise((res, rej) => {\n    const formattedPoll = formatPoll({\n      author,\n      firstQuestion,\n      secondQuestion\n    });\n    setTimeout(() => {\n      polls = { ...polls,\n        [formattedPoll.id]: formattedPoll\n      };\n      users = { ...users,\n        [author]: { ...users[author],\n          polls: users[author].polls.concat([formattedPoll.id])\n        }\n      };\n      res(formattedPoll);\n    }, 1000);\n  });\n}\nlet polls;","map":{"version":3,"sources":["C:/Users/Lenovo User/Desktop/Web Development Projects/2. React Developer Nanodegree/would-you-rather/src/actions/polls.js"],"names":["generateId","ADD_POLL","addPoll","poll","type","payload","handleAddPoll","firstQuestion","secondQuestion","dispatch","getState","authedUser","savePoll","author","info","_savePoll","formatPoll","id","Promise","res","rej","formattedPoll","setTimeout","polls","users","concat"],"mappings":"AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAO,MAAMC,QAAQ,GAAG,UAAjB;;AAEP,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,SAAO;AACLC,IAAAA,IAAI,EAAGH,QADF;AAELI,IAAAA,OAAO,EAAE;AACPF,MAAAA;AADO;AAFJ,GAAP;AAMD,C,CAGD;;;AACA,OAAO,SAASG,aAAT,CAAuBC,aAAvB,EAAsCC,cAAtC,EAAsD;AAC3D,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAiBD,QAAQ,EAA/B;AAEA,WAAOE,QAAQ,CAAC;AACdC,MAAAA,MAAM,EAAEF,UADM;AAEdJ,MAAAA,aAFc;AAGdC,MAAAA;AAHc,KAAD,CAAf;AAKD,GARD;AASD;AAED,OAAO,SAASI,QAAT,CAAmBE,IAAnB,EAAyB;AAC9B,SAAOC,SAAS,CAACD,IAAD,CAAhB;AACD;;AAGD,SAASE,UAAT,CAAqB;AAAET,EAAAA,aAAF;AAAiBC,EAAAA,cAAjB;AAAiCK,EAAAA;AAAjC,CAArB,EAAgE;AAC9D,SAAO;AACLA,IAAAA,MADK;AAELI,IAAAA,EAAE,EAAEjB,UAAU,EAFT;AAGLO,IAAAA,aAHK;AAILC,IAAAA;AAJK,GAAP;AAMD;;AAED,OAAO,SAASO,SAAT,CAAoB;AAAER,EAAAA,aAAF;AAAiBC,EAAAA,cAAjB;AAAiCK,EAAAA;AAAjC,CAApB,EAA+D;AACpE,SAAO,IAAIK,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC/B,UAAMC,aAAa,GAAGL,UAAU,CAAC;AAC/BH,MAAAA,MAD+B;AAE/BN,MAAAA,aAF+B;AAG/BC,MAAAA;AAH+B,KAAD,CAAhC;AAMAc,IAAAA,UAAU,CAAC,MAAM;AACfC,MAAAA,KAAK,GAAG,EACN,GAAGA,KADG;AAEN,SAACF,aAAa,CAACJ,EAAf,GAAoBI;AAFd,OAAR;AAKAG,MAAAA,KAAK,GAAG,EACN,GAAGA,KADG;AAEN,SAACX,MAAD,GAAU,EACR,GAAGW,KAAK,CAACX,MAAD,CADA;AAERU,UAAAA,KAAK,EAAEC,KAAK,CAACX,MAAD,CAAL,CAAcU,KAAd,CAAoBE,MAApB,CAA2B,CAACJ,aAAa,CAACJ,EAAf,CAA3B;AAFC;AAFJ,OAAR;AAQAE,MAAAA,GAAG,CAACE,aAAD,CAAH;AACD,KAfS,EAeP,IAfO,CAAV;AAgBD,GAvBM,CAAP;AAwBD;AAED,IAAIE,KAAJ","sourcesContent":["import { generateId } from '../utils/helpers'\r\nexport const ADD_POLL = 'ADD_POLL'\r\n\r\nfunction addPoll(poll) {\r\n  return {\r\n    type:  ADD_POLL,\r\n    payload: {\r\n      poll\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// Working on this!\r\nexport function handleAddPoll(firstQuestion, secondQuestion) {\r\n  return (dispatch, getState) => {\r\n    const { authedUser } = getState()\r\n\r\n    return savePoll({\r\n      author: authedUser,\r\n      firstQuestion,\r\n      secondQuestion    \r\n    })\r\n  }\r\n}\r\n\r\nexport function savePoll (info) {\r\n  return _savePoll(info)\r\n}\r\n\r\n\r\nfunction formatPoll ({ firstQuestion, secondQuestion, author }) {\r\n  return {\r\n    author,\r\n    id: generateId(),\r\n    firstQuestion,\r\n    secondQuestion\r\n  }\r\n}\r\n\r\nexport function _savePoll ({ firstQuestion, secondQuestion, author }) {\r\n  return new Promise((res, rej) => {\r\n    const formattedPoll = formatPoll({\r\n      author,\r\n      firstQuestion,\r\n      secondQuestion\r\n    })\r\n\r\n    setTimeout(() => {\r\n      polls = {\r\n        ...polls,\r\n        [formattedPoll.id]: formattedPoll,\r\n      }\r\n\r\n      users = {\r\n        ...users,\r\n        [author]: {\r\n          ...users[author],\r\n          polls: users[author].polls.concat([formattedPoll.id])\r\n        }\r\n      }\r\n\r\n      res(formattedPoll)\r\n    }, 1000)\r\n  })\r\n}\r\n\r\nlet polls"]},"metadata":{},"sourceType":"module"}