{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/Lenovo User/Desktop/Web Development Projects/2. React Developer Nanodegree/would-you-rather/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Select,Button,Message}from'semantic-ui-react';import{useHistory}from'react-router-dom';import{connect}from'react-redux';import{setAuthedUser}from'../actions/authedUser';import{users}from'../utils/_DATA';var formUsers=[{text:users['Mike'].id,value:users['Mike'].id,image:{avatar:true,src:users['Mike'].avatar}},{text:users['Carol'].id,value:users['Carol'].id,image:{avatar:true,src:users['Carol'].avatar}},{text:users['Jennifer'].id,value:users['Jennifer'].id,image:{avatar:true,src:users['Jennifer'].avatar}},{text:users['Victor'].id,value:users['Victor'].id,image:{avatar:true,src:users['Victor'].avatar}}];var LoginForm=function LoginForm(_ref){var dispatch=_ref.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),avatar=_useState4[0],setAvatar=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitFailed=_useState6[0],setSubmitFailed=_useState6[1];var history=useHistory();var handleChange=function handleChange(e){var target=e.target;// Get name and avatar from select element\nvar selectName=target.children[1].innerText;var selectAvatar=target.children[0].currentSrc;setUser(selectName);setAvatar(selectAvatar);};var handleClick=function handleClick(e){// Validate a user has been selected\nif(user!==''){// If submit failed previously, change to false\nif(submitFailed===true){setSubmitFailed(false);}dispatch(setAuthedUser(user,avatar));history.push('/home');}else{setSubmitFailed(true);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-form align-center shadow-slim\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form__container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Welcome to \\\"Would you Rather\\\"!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Select a user to start using the app\"}),/*#__PURE__*/_jsx(Select,{className:\"login-form__select\",placeholder:\"Select user\",options:formUsers,onChange:handleChange}),submitFailed===true?/*#__PURE__*/_jsx(Message,{error:true,content:\"Please select a user before proceeding\"}):null,/*#__PURE__*/_jsx(Button,{className:\"login-form__btn\",onClick:handleClick,children:\"Sign Up\"})]})});};function mapStateToProps(_ref2){var authedUser=_ref2.authedUser;return{authedUser:authedUser};}export default connect(mapStateToProps)(LoginForm);","map":{"version":3,"sources":["C:/Users/Lenovo User/Desktop/Web Development Projects/2. React Developer Nanodegree/would-you-rather/frontend/src/components/LoginForm.js"],"names":["React","useState","Select","Button","Message","useHistory","connect","setAuthedUser","users","formUsers","text","id","value","image","avatar","src","LoginForm","dispatch","user","setUser","setAvatar","submitFailed","setSubmitFailed","history","handleChange","e","target","selectName","children","innerText","selectAvatar","currentSrc","handleClick","push","mapStateToProps","authedUser"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Select, Button, Message } from 'semantic-ui-react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { setAuthedUser } from '../actions/authedUser'\r\nimport { users } from '../utils/_DATA'\r\n\r\nconst formUsers = [\r\n  {\r\n    text: users['Mike'].id,\r\n    value: users['Mike'].id,\r\n    image: {\r\n      avatar: true,\r\n      src: users['Mike'].avatar\r\n    }\r\n  },\r\n  {\r\n    text: users['Carol'].id,\r\n    value: users['Carol'].id,\r\n    image: {\r\n      avatar: true,\r\n      src: users['Carol'].avatar\r\n    }\r\n  },\r\n  {\r\n    text: users['Jennifer'].id,\r\n    value: users['Jennifer'].id,\r\n    image: {\r\n      avatar: true,\r\n      src: users['Jennifer'].avatar\r\n    }\r\n  },\r\n  {\r\n    text: users['Victor'].id,\r\n    value: users['Victor'].id,\r\n    image: {\r\n      avatar: true,\r\n      src: users['Victor'].avatar\r\n    }\r\n  }\r\n]\r\n\r\nconst LoginForm = ({ dispatch }) => {\r\n  const [user, setUser] = useState('')\r\n  const [avatar, setAvatar] = useState('')\r\n  const [submitFailed, setSubmitFailed] = useState(false)\r\n\r\n  let history = useHistory();\r\n\r\n  const handleChange = (e) => { \r\n    const target = e.target\r\n\r\n    // Get name and avatar from select element\r\n    const selectName = target.children[1].innerText\r\n    const selectAvatar = target.children[0].currentSrc\r\n\r\n    setUser(selectName)\r\n    setAvatar(selectAvatar)\r\n  }\r\n\r\n  const handleClick = (e) => {\r\n\r\n    // Validate a user has been selected\r\n    if (user !== '') {\r\n\r\n      // If submit failed previously, change to false\r\n      if (submitFailed === true) {\r\n        setSubmitFailed(false)\r\n      }\r\n\r\n      dispatch(setAuthedUser(user, avatar))\r\n\r\n      history.push('/home')\r\n\r\n    } else {\r\n      setSubmitFailed(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='login-form align-center shadow-slim'>\r\n      <div className=\"login-form__container\">\r\n        <h3>Welcome to \"Would you Rather\"!</h3>\r\n        <p>Select a user to start using the app</p>\r\n        <Select className='login-form__select' placeholder='Select user' options={formUsers} onChange={handleChange}/>\r\n        {submitFailed === true ?\r\n          <Message\r\n          error\r\n          content='Please select a user before proceeding'\r\n        /> :\r\n        null\r\n        }\r\n        <Button className='login-form__btn' onClick={handleClick}>Sign Up</Button>\r\n      </div>\r\n    </div>    \r\n  )\r\n}\r\n\r\nfunction mapStateToProps ({ authedUser }) {\r\n  return {\r\n    authedUser\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginForm)\r\n"]},"metadata":{},"sourceType":"module"}